---
title: "RLab1"
author: "Alexey Volkov"
date: '15 октября 2018 г '
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Задание №1

 - Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор exp.1. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
exp.1 <- rexp(200,1)
exp.1.mean <- mean(exp.1)
exp.1.sd <- sd(exp.1)
```

 - Повторите, использовав следующие значения параметра Lambda: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: exp.0.1, exp.0.5, exp.5, exp.10

```{r}
exp.0.1 <- rexp(200, 0.1)
exp.0.1.mean <- mean(exp.0.1)
exp.0.1.sd <- sd(exp.0.1)

exp.0.5 <- rexp(200, 0.5)
exp.0.5.mean <- mean(exp.0.5)
exp.0.5.sd <- sd(exp.0.5)

exp.5 <- rexp(200, 5)
exp.5.mean <- mean(exp.5)
exp.5.sd <- sd(exp.5)

exp.10 <- rexp(200, 10)
exp.10.mean <- mean(exp.10)
exp.10.sd <- sd(exp.10)
```

 - Функция plot() общая функция для визуализации данных. Функция hist() принимает данные и раскладывает их по корзинам. Чтобы использовать эти функции нужно для начала передать им данные, которые хотим визуализировать.

 - Используйте функцию hist() для построения гистограммы полученного ранее стандартного распределения.

```{r}
hist(exp.1)
```

 - Используйте функцию plot() с тем же самым вектором для построения графика значений в порядке следования.

```{r}
plot(exp.1)
```

 - Используйте функцию plot() с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния (scatterplot) этих векторов относительно друг друга.

```{r}
plot(exp.0.5, exp.1)
```

 - Теперь сравним свойства всех наших векторов. Для начала создадим вектор, содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания. Полученный вектор сохраним в переменную exp.means. Далее необходимо создать следующие диаграммы рассеяния:

```{r}
exp.lambdas <- c(1,0.1,0.5,5,10)
exp.means <- c(exp.1.mean, exp.0.1.mean, exp.0.5.mean, exp.5.mean, exp.10.mean)
exp.sds <- c(exp.1.sd, exp.0.1.sd, exp.0.5.sd, exp.5.sd, exp.10.sd)
```

 - Вектор с пятью средними относительно каждого из пяти векторов с различными значениями Lambda.

```{r}
plot(exp.means, exp.lambdas)
```

Чем больше показатель Lambda, тем меньше математическое ожидание.

 - Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями Lambda

```{r}
plot(exp.sds, exp.lambdas)
```

Чем больше показатель Lambda, тем меньше среднеквадратическое отклонение.

 - Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.
 
```{r}
plot(exp.means, exp.sds)
```

Значения практически совпадают, ~образуют линейную зависимость.

## Задание №2

 - Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения и сохраните их в вектор huge.exp.1. Получите среднее и стандартное отклонение.

```{r}
huge.exp.1 <- rexp(1100000)
huge.exp.1.mean <- mean(huge.exp.1)
huge.exp.1.sd <- sd(huge.exp.1)
```

 - Получите гистограмму huge.exp.1. Она соответствует функции 1 - e:^(-x)? Должна ли?

```{r}
hist(huge.exp.1)
```

Гистограмма не соответствует функции 1 - e:^(-x). Гистограмма отображает функцию плотности вероятности распределения, а не функцию распределния.

 - Получите среднее всех чисел из huge.exp.1 строго больших 1. Для проверки выборки может потребоваться новый вектор.

```{r}
mean(huge.exp.1[huge.exp.1>1])
```

 - Получите матрицу huge.exp.1.mat, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу. Что можно сказать о полученных данных?

```{r}
huge.exp.1.mat <- matrix(huge.exp.1, 1100, 1000)
hist(huge.exp.1.mat)
```

Гистограмма аналогична предыдущей.

 - Рассчитайте среднее 137-й колонки из huge.exp.1.mat.

```{r}
mean(huge.exp.1.mat[,137])
```

 - Найдите среднее всей 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних зннчений колонок. Объясните почему форма диаграммы отличается от виденных ранее.

```{r}
huge.exp.1.means <- colMeans(x = huge.exp.1.mat)
plot(huge.exp.1.means)
```

Данная диаграмма отличается от предыдущих, потому что она отображает значения математического ожидания для каждого из столбцов матрицы, содержащей случайные величины распределённые по экспоненциальному закону. Предыдущие графики были гистограммами экспоненциального распределения.

 - Рассчитайте квадрат каждого значения из huge.exp.1 и найдите среднее и стандартное отклонение полученного вектора квадратов. Объясните отличие от соответствующих показателей вектора huge.exp.1. Вам может помочь формула, по которой R рассчитывает стандартное отклонение: sqrt(sum((x - mean(x))^2) / (n - 1)).

```{r}
huge.exp.1.sqr <- huge.exp.1^2
huge.exp.1.sqr.mean <- mean(huge.exp.1.sqr)
huge.exp.1.sqr.sd <- sd(huge.exp.1.sqr)
```
Многие экспоненциально распределенные величины оказываются < 1, при возведении их в квадрат, они уменьшаются, но ненамного. Остальные же величины > 1 (около 4*10^5) значительно растут, следовательно мат.ожидание должно увеличиться.
